#
# (C) Copyright IBM Corp. 2020
#
# SPDX-License-Identifier: Apache-2.0
#
# Mapping set named the same as the FHIR simplified class name (last segment)
AllergyIntoleranceCategory:
   AA: environment
   DA: medication
   EA: environment
   FA: food
   LA: environment
   PA: environment
AllergyIntoleranceCriticality:
   MI: low
   SV: high
   U: unable-to-assess
ObservationStatus:
   C: corrected
   D: cancelled
   F: final
   I: registered
   P: preliminary
   W: entered-in-error

ServiceRequestStatus:
   A: active
   CA: revoked
   CM: completed
   DC: revoked
   ER: entered-in-error
   HD: on-hold
   IP: active
   SC: active
      
AdministrativeGender:
   A: other
   F: female
   M: male
   N: unknown
   O: other
   U: unknown

DiagnosticReportStatus:
   A: partial
   C: corrected
   F: final
   I: unknown
   O: unknown
   P: preliminary
   R: partial
   S: unknown
   X: cancelled
   Y: unknown
   Z: unknown
   
ImmunizationStatus:
  CP: completed
  NA: not-done
  PA: completed
  RE: not-done
  CM: completed
  ER: entered-in-error
  CA: not-done
  DC: not-done
  HD: not-done
  IP: not-done
  SC: not-done
  RP: not-done
  
MessageReasonEncounter:
   A01: admit
   A03: discharge
   A21: absent
   A22: return
   A02: moved
   A06: moved
   A07: moved
   A08: edit
   A28: edit
   A31: edit

SpecimenStatus:
  Y: available
  N: unavailable
   
NameUse:
  A: anonymous
  B: official
  C: official
  D: usual
  I: official
  L: official
  M: maiden
  N: nickname
  S: anonymous
  TEMP: temp
  NOUSE: old
  BAD: old
   
EncounterModeOfArrivalDisplay:
  A: Ambulance
  C: Car
  F: On foot
  H: Helicopter
  O: Other
  P: Public Transport
  U: Unknown

#Using Actcode for encounter.class
V3ActCode:
  E: EMER
  I: IMP
  P: PRENC
  O: AMB

V3MaritalStatus:
  A: A
  C: T
  D: D
  I: I
  L: L
  M: M
  P: P
  S: S
  T: T
  U: U
  W: W

DocumentReferenceStatus: #DocumenReference Status
  #TXA.19
  AV: current
  CA: entered-in-error
  OB: superseded
  UN: current
  #OBR.25
  A: current
  C: current
  F: current
  I: current
  O: current
  P: current
  R: current
  S: current
  X: entered-in-error

CompositionStatus: #DocumenReference docStatus
  #TXA.17
  AU: final
  DI: preliminary
  DO: preliminary
  IN: preliminary
  IP: preliminary
  PA: preliminary
  LA: final
  #OBX.11
  C: final
  F: final
  I: preliminary
  P: preliminary
  R: preliminary
  S: preliminary
  U: final
  W: entered-in-error
  # We are not mapping D,N,O,X - those values will result in this field not being set

V3Race:
  # American Indian or Alaska Native	
  1002-5: 1002-5
  # Asian
  2028-9: 2028-9
  # Black or African American
  2054-5: 2054-5
  # Native Hawaiian or Other Pacific Islander
  2076-8: 2076-8
  # White
  2106-3: 2106-3

V3ReligiousAffiliation:
  # Not all V2.6 religions mapped exactly to FHIR codings.  ** indicates a best approximation or generalization
  # All V2.6 religions are left as commented placeholders for future evaluation.
  # Agnostic -> Agnosticism
  AGN: 1004
  # Atheist -> Athiesm
  ATH: 1007
  # Baha'i -> Babi & Baha'I faiths
  BAH: 1008
  # Brethren -> Brethren
  BRE: 1062
  # Buddhist -> ??
  # BUD: NO REASONABLE MATCH, no generalized Buddhist
  # Buddhist - Mahayana -> Mahayana
  BMA: 1029
  # Buddhist - Theravada -> Theravada
  BTH: 1051
  # Buddhist - Tantrayana	-> ??
  # BTA: NO REASONABLE MATCH
  # Buddhist - Other -> ??
  # BOT:  NO REASONABLE MATCH, Does not match Zen Buddhism
  # Chinese Folk Religionist
  # CFR:   NO REASONABLE MATCH
  # Christian	-> Christian (non-Catholic, non-specific)
  CHR: 1013
  # Christian - American Baptist Church -> ??
  # ABC: NO GOOD MATCH
  # Christian - African Methodist Episcopal -> Episcopalian
  # AMT:  NO GOOD MATCH
  # Christian - African Methodist Episcopal Zion-> Episcopalian
  # AME:  NO GOOD MATCH
  # Christian - Anglican -> Anglican
  ANG: 1005
  # Christian - Assembly of God -> Assembly of God
  AOG: 1061
  # Christian - Baptist -> Baptist
  BAP: 1009
  # Christian - Christian Reformed -> Reformed **
  CRR: 1079
  # Christian - Christian Science	-> Christian Scientist
  CHS: 1063
  # Christian - Christian Missionary Alliance	-> ??
  # CMA: NO GOOD MATCH
  # Christian - Church of Christ	-> Church of Christ
  COC: 1064
  # Christian - Church of God	-> Church of God
  COG: 1065
  # Christian - Church of God in Christ -> ??
  # COI: NO CLEAR MAPPING
  # Christian - Community	-> ??
  # COM: NO CLEAR MAPPING
  # Christian - Congregational -> Congregational
  COL: 1066
  # Christian - Eastern Orthodox -> Eastern Orthodox
  EOT: 1068
  # Christian - Evangelical Church -> Evangelical Covenant **
  EVC: 1070
  # Christian - Episcopalian -> Episcopalian
  EPI: 1069
  # Christian - Free Will Baptist	-> ??
  # FWB: NO CLEAR MAPPING
  # Christian - Friends -> Friends
  FRQ: 1071
  # Christian - Full Gospel -> ??
  # FUL: NO CLEAR MAPPING
  # Christian - Greek Orthodox -> ??
  # GRE: NO CLEAR MAPPING
  # Christian - Jehovah's Witness	-> Jehovah's Witnesses
  JWN: 1025
  # Christian - Latter-day Saints	-> Latter Day Saints
  MOM: 1027
  # Christian - Lutheran -> Lutheran
  LUT: 1028
  # Christian - Lutheran Missouri Synod -> ??
  # LMS: NO CLEAR MAPPING
  # Christian - Mennonite	-> ??
  # MEN: NO CLEAR MAPPING
  # Christian - Methodist	-> Methodist
  MET: 1073
  # Christian - Church of the Nazarene -> Nazarene
  NAZ: 1075
  # Christian - Orthodox -> Orthodox
  ORT: 1036
  # Christian - Pentecostal -> Pentecostal
  PEN: 1038
  # Christian - Other Pentecostal	-> Pentecostal **
  COP: 1038
  # Christian - Presbyterian -> Presbyterian
  PRE: 1076
  # Christian - Protestant -> Protestant
  PRO: 1077
  # Christian - Other Protestant -> Protestant, No Denomination
  PRC: 1078
  # Christian - Reformed Church -> Reformed
  REC: 1079
  # Christian - Reorganized Church of Jesus Christ-LDS -> ??
  # REO: NO CLEAR MAPPING
  # Christian - Roman Catholic -> Roman Catholic Church
  CAT: 1041
  # Christian - Salvation Army -> Salvation Army
  SAA: 1080
  # Christian - Seventh Day Adventist	-> Adventist
  SEV: 1001
  # Christian - Southern Baptist-> ??
  # SOU: NO CLEAR MAPPING
  # Christian - United Church of Christ -> United Church of Christ
  UCC: 1082
  # Christian - United Methodist -> Methodist **
  UMD: 1073
  # Christian - Unitarian	-> Unitarian-Universalism
  UNI: 1052
  # Christian - Unitarian Universalist -> Unitarian Universalist
  UNU: 1081
  # Christian - Wesleyan -> ??
  # WES: NO CLEAR MAPPING
  # Christian - Wesleyan Methodist -> ??
  # WMC: NO CLEAR MAPPING
  # Christian - Other	-> Christian (non-Catholic, non-specific)	**
  COT: 1013
  # Confucian	-> Confucianism
  CNF: 1014
  # Disciples of Christ -> Disciples of Christ
  DOC: 1067
  # Ethnic Religionist
  # ERL:   NO REASONABLE MATCH
  # Hindu	-> Hinduism
  HIN: 1020
  # Hindu - Shaivites	-> ??
  # HSH: 1020 NO CLEAR MAPPING
  # Hindu - Vaishnavites -> ??
  # HVA: 1020 NO CLEAR MAPPING
  # Hindu - Other -> ??
  # HOT: 1020 NO CLEAR MAPPING
  # Jain -> Jainism
  JAI: 1024
  # Jewish -> Judaism
  JEW: 1026
  # Jewish - Conservative	-> ??
  # JCO: NO CLEAR MAPPING
  # Jewish - Orthodox	-> ??
  # JOR: NO CLEAR MAPPING
  # Jewish - Reconstructionist-> ??
  # JRC: NO CLEAR MAPPING
  # Jewish - Reform	-> ??
  # JRF: NO CLEAR MAPPING
  # Jewish - Renewal	-> ??
  # JRN: NO CLEAR MAPPING
  # Jewish - Other	-> ??
  # JOT: NO CLEAR MAPPING
  # Muslim -> Isalm
  MOS: 1023
  # Muslim - Shiite -> Shiite (Islam)
  MSH: 1045
  # Muslim - Sunni -> Sunni (Islam)
  MSU: 1049
  # Muslim - Other -> Isalm
  MOT: 1023
  # Native American	-> Native American
  NAM: 1074
  # New Religionist	-> New Age **
  # NRL: NO CLEAR MAPPING
  # Nonreligious -> Agnosticism
  # NOE: NO CLEAR MAPPING
  # Shintoist	-> Shinto
  SHN: 1046
  # Sikh -> Sikism
  SIK: 1047
  # Spiritist	-> Spiritualism
  SPI: 1048
  # Other
  # OTH:   NO REASONABLE MATCH
  # Unknown
  # VAR:   NO REASONABLE MATCH

MedicationRequestStatus:
   AF: active
   CA: cancelled
   CR: cancelled
   DC: stopped
   DE: entered-in-error
   DF: cancelled
   DR: stopped
   FU: active
   HD: on-hold
   HR: on-hold
   NW: active
   OC: cancelled
   OD: stopped
   OE: active
   OF: active
   OH: on-hold
   OK: active
   OP: active
   OR: active
   PY: active
   RF: active
   RL: active
   RO: active
   RP: unknown
   RQ: active
   RR: active
   RU: active
   A: active
   IP: active
   SC: active
   CM: completed
   ER: entered-in-error

MedicationRequestCategory:
  I: inpatient
  O: outpatient

###### IMPORTANT NOTES ON RELATIONSHIP MAPPINGS #########
# Relationships in tables V3RoleCode and SubscriberRelationship are tricky
# Relationships in HL7 and FHIR are coded, mapped, and recoded in two different DIRECTIONS:  
#   1.  Insured [subscriber/policyholder] is X (e.g. parent) of patient.  X is inverse Y.
#   2.  Patient is Y (e.g. child) of insured [subscriber/policyholder]; 
# IN1.17 is Insureds relationship to Patient (TYPE 1).  Uses HL7 V2.6 table 0063
# IN2.72 is Patients relationship to Insured (TYPE 2).  Uses HL7 V2.6 table 0344
# FHIR RelatedPerson.relationship is Related to Patient. (TYPE 1.) POLICYHOLDER_RELATIONSHIP  Needs coding from V3RoleCode.
# FHIR Coverage.relationship is Beneficiary (Patient) to Insured (Subscriber) (TYPE 2.) SUBSCRIBER_RELATIONSHIP  Needs coding from SubscriberRelationship. 

# Mapping to V3 Role code (used for POLICYHOLDER_RELATIONSHIP)
V3RoleCode:
# Input codes from IN2.72 (TYPE 2) values from table 0344, need to be REVERSED for TYPE1 POLICYHOLDER_RELATIONSHIP code from V3RoleCode.
  01: ONESELF # Patient is insured input
  02: SPS  # Spouse input
  03: PRN  # Natural child financial responsibility input from Type 2, is Parent in Type 1.
  04: PRN  # Natural child no financial responsibility input from Type 2, is Parent in Type 1.
  05: PRN  # Step child input from Type 2, is Parent in Type 1.
  06: PRN  # Foster child input from Type 2, is Parent in Type 1.
# 07: no good match for Ward of the court
# 08: no good match for Employee
  09: U # 'Unknown' as input
  10: O # Handicapped dependent input, Other output
# 11: no good match for Organ donor
# 12: no good match for Cadaver donor
  13: GRPRN # Grandchild input from Type 2, is Grandparent Type 1 
  14: O # Niece/Nephew input, Other output
# 15: no good match for Injured planitiff
# 16: no good match for Sponsored dependent
  17: GRPRN # Minor dependent of a minor dependant input (grandchild dependent) from TYPE 2 is Grandparent Type 1 
  18: CHILD # Parent input from TYPE 2, is Child in Type 1
  19: GRNDCHILD # Grandparent input from TYPE 2, is Grandchild in Type 1
# Input codes from IN1.17 (TYPE 1) values from table 0063 are standard match for TYPE 1 POLICYHOLDER_RELATIONSHIP code from V3RoleCode.  
  BRO: BRO
# CGV: no good match for Care giver
  CHD: CHILD
# DEP: no good match for Handicapped dependent
  DOM: DOMPART
  EXF: EXT  
  FCH: CHLDFOST 
  FND: FRND
  FTH: FTH 
  GCH: GRNDCHILD
# GRD: no good match for Guardian
  GRP: GRPRN
  MTH: MTH
  NCH: NCHILD 
# NON: no good match for None
  OTH: O     
  PAR: PRN
  SCH: STPCHLD
  SEL: ONESELF
  SIB: SIB
  SIS: SIS
  SPO: SPS
  UNK: U
# WRD: no good match for Ward of the court  

# SubscriberRelationship codes
# This is the reverse of the relationships from V3RoleCode.  See IMPORTANT NOTES ON RELATIONSHIP MAPPINGS above.
# OTHER is mapped for any connection that is blood or legal (e.g. grandparent, guardian)
# Nothing is mapped for non-legally binding connections (e.g. friend, manager)
SubscriberRelationship:
# Input codes from IN2.72 (TYPE 2) values from table 0344, are standard match for TYPE 2 SUBSCRIBER_RELATIONSHIP codes from SubscriberRelationship.
  01: self # Patient is insured input
  02: spouse  # Spouse input
  03: child  # Natural child financial responsibility input 
  04: child  # Natural child no financial responsibility input 
  05: child  # Step child input 
  06: child  # Foster child input
# 07: no good match for Ward of the court
# 08: no good match for Employee
# 09: no good match for 'Unknown' as input
  10: other # Handicapped dependent input, Other output
# 11: no good match for Organ donor
# 12: no good match for Cadaver donor
  13: other # Grandchild input 
  14: other # Niece/Nephew input, Other output
# 15: no good match for Injured planitiff
# 16: no good match for Sponsored dependent
  17: other # Minor dependent of a minor dependant input (grandchild dependent)
  18: parent # Parent input
  19: other # Grandparent input 
# Input codes from IN1.17 (TYPE1) table 0063 are REVERSED for TYPE2 SUBSCRIBER_RELATIONSHIP codes from SubscriberRelationship
# IN1.17 is "Insured's Relationship To Patient", but Coverage.relationship is "Beneficiary relationship to the subscriber".
# To understand the table think: If the patient is a XXXX, the the insurance subscriber is their XXXX
# As an example, CHD does not map to child, but parent.
  BRO: other
  CGV: other  # Caregiver
  CHD: parent
  DEP: other  # Handicapped dependent
  DOM: common  # Life partner ~ common law spouse
  EXF: other   # Extended family
  FCH: parent 
# FND: no good match for Friend
  FTH: child # Father of a child
  GCH: other
  GRD: other # Guardian
  GRP: other
  MTH: child
  NCH: parent # Natural child of a parent
# NON: no good match for None
  OTH: other     
  PAR: child
  SCH: parent # Step-child of a parent
  SEL: self
  SIB: other
  SIS: other
  SPO: spouse
# UNK: no good match for Unknown
# WRD: no good match for Ward of the court  